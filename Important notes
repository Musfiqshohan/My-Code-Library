1. Dont use one array like 10^8 even boolean user if you need to use boolean values.
You can keep an array of size = maxn/32 and each one as a mask of size 32 the do the work like 1<<pos
even you should not use bitset(even with shift) cz it is slower than one dimensional array and bitwise operation.
